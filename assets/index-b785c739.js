(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const S="/assa_cart/assets/logo_color-f32e383a.svg",L="/assa_cart/assets/button_shopping-3a83a74b.svg",_="/assa_cart/assets/minus_black-9b9a64bb.svg",I="/assa_cart/assets/plus_black-db2ce627.svg",c={key:"assa_cart",items:[],init(){try{let e=localStorage.getItem(c.key);e?c.items=JSON.parse(e):(c.items=[{id:1,name:"Milk",qty:1},{id:2,name:"Eggs",qty:1},{id:3,name:"Flour",qty:1},{id:4,name:"Sugar",qty:1},{id:5,name:"Chocolate Chips",qty:1}],c.sync())}catch(e){console.error("Error initializing cart:",e)}},sync(){try{let e=JSON.stringify(c.items);localStorage.setItem(c.key,e)}catch(e){console.error("Error syncing cart:",e)}},addItem(e){c.items.push(e),c.sync()},removeItem(e){c.items=c.items.filter(t=>t.id!==e),c.sync()},updateItem(e,t){let n=c.items.find(s=>s.id===e);n&&(n.qty=t,c.sync())},clear(){c.items=[],c.sync()},sortName(){c.items.every((t,n,s)=>n===0?!0:s[n-1].name<t.name)?c.items.reverse():c.items.sort((t,n)=>t.name<n.name?-1:t.name>n.name?1:0),c.sync()},sortQty(){c.items.every((t,n,s)=>n===0?!0:s[n-1].qty<=t.qty)?c.items.sort((t,n)=>n.qty-t.qty):c.items.sort((t,n)=>t.qty-n.qty),c.sync()},showCart(){const e=document.querySelector("#cart");e.textContent="";const t=document.createDocumentFragment();c.items.forEach(n=>{const s=document.createElement("div");s.classList.add("cart-item");const a=document.createElement("h3");a.classList.add("cart-item-name"),a.textContent=n.name,s.append(a);const o=document.createElement("div");o.classList.add("cart-item-qty");const r=document.createElement("button");r.classList.add("cart-item-qty-minus"),r.dataset.id=n.id.toString(),r.dataset.qty=n.qty.toString();const l=document.createElement("img");l.src=_,l.alt="decrease quantity",r.append(l),o.append(r);const m=document.createElement("p");m.textContent=n.qty.toString(),o.append(m);const i=document.createElement("button");i.classList.add("cart-item-qty-plus"),i.dataset.id=n.id.toString(),i.dataset.qty=n.qty.toString();const u=document.createElement("img");u.src=I,u.alt="increment quantity",i.append(u),o.append(i),s.append(o),t.append(s)}),e.append(t)}},d={handleNextButtonClick:e=>{e.checked&&e.step++,g.render()},handleBackButtonClick:e=>{const t=document.querySelector("#start_modal"),n=document.querySelector("#modal_content");e.step===0?(t.style.display="flex",n.style.display="none",g.render()):(e.checked=!e.checked,e.step--,g.render())},handleCheckboxChange:e=>{e.checked=!e.checked,g.render()},handleQuantityAdjustButtonClick:e=>{e.className.includes("minus")?(parseInt(e.dataset.qty)===1&&c.removeItem(parseInt(e.dataset.id)),c.updateItem(parseInt(e.dataset.id),parseInt(e.dataset.qty)-1)):c.updateItem(parseInt(e.dataset.id),parseInt(e.dataset.qty)+1),g.render()},handleClearButtonClick:()=>{c.clear(),g.render()},handleSortNameButtonClick:()=>{c.sortName(),g.render()},handleSortQuantityButtonClick:()=>{c.sortQty(),g.render()},handleAddToCartButtonClick:()=>{const e=prompt("Enter the name of the item");if(e){if(c.items.find(t=>t.name===e)){c.updateItem(c.items.find(t=>t.name===e).id,c.items.find(t=>t.name===e).qty+1),g.render();return}c.addItem({id:x(),name:e,qty:1}),g.render()}}},x=()=>Math.floor(Math.random()*1e9),N=(e,t)=>{const n=()=>d.handleNextButtonClick(t),s=()=>d.handleBackButtonClick(t),a=()=>d.handleCheckboxChange(t),o=b=>d.handleQuantityAdjustButtonClick(b),r=d.handleClearButtonClick,l=d.handleSortNameButtonClick,m=d.handleSortQuantityButtonClick,i=d.handleAddToCartButtonClick,u=e.querySelector(".modal-next");u&&u.addEventListener("click",n);const p=e.querySelector(".modal-back");p&&p.addEventListener("click",s);const y=e.querySelector(".modal-checkbox");y&&y.addEventListener("change",a);const f=e.querySelectorAll(".cart-item-qty-plus, .cart-item-qty-minus");f&&f.forEach(b=>{b.addEventListener("click",()=>o(b))});const k=document.querySelector("#cart_clear");k&&k.addEventListener("click",r);const h=document.querySelector("#name_sort");h&&h.addEventListener("click",l);const C=document.querySelector("#qty_sort");C&&C.addEventListener("click",m);const q=document.querySelector("#cart_add");q&&q.addEventListener("click",i)},w=e=>{const t=e.querySelector(".modal-next");t&&t.removeEventListener("click",d.handleNextButtonClick);const n=e.querySelector(".modal-back");n&&n.removeEventListener("click",d.handleBackButtonClick);const s=e.querySelector(".modal-checkbox");s&&s.removeEventListener("change",d.handleCheckboxChange);const a=document.querySelector("#cart_clear");a&&a.removeEventListener("click",d.handleClearButtonClick);const o=e.querySelectorAll(".cart-item-qty-plus, .cart-item-qty-minus");o&&o.forEach(i=>{i.removeEventListener("click",d.handleQuantityAdjustButtonClick)});const r=document.querySelector("#name_sort");r&&r.removeEventListener("click",d.handleSortNameButtonClick);const l=document.querySelector("#qty_sort");l&&l.removeEventListener("click",d.handleSortQuantityButtonClick);const m=document.querySelector("#cart_add");m&&m.removeEventListener("click",d.handleAddToCartButtonClick)},v="/assa_cart/assets/logo_white-43b6a360.svg",E="/assa_cart/assets/arrow-600187f2.svg",A="Tiramisu gummies pudding bonbon soufflé. Bonbon marshmallow pastry donut jujubes gummies biscuit. Gummi bears sesame snaps candy. Wafer dessert sugar plum. Cheesecake dessert soufflé lemon drops ice cream chocolate cake danish jelly-o. Croissant candy canes cake pastry chupa chups brownie soufflé lemon drops cookie. Jelly dragée cheesecake wafer sesame snaps tootsie roll chupa chups.<br><br> Pastry cupcake pie tiramisu pudding. Biscuit marzipan halvah marzipan halvah tiramisu. Donut cupcake bear claw oat cake. Gummies lemon drops cotton candy dragée. Gummi bears bonbon croissant pastry sesame snaps jujubes jelly beans topping caramels. Chocolate bar cupcake toffee dragée toffee. Gummies icing jujubes macaroon bear claw brownie liquorice tiramisu bear claw. <br><br>Lemon drops cotton candy macaroon sugar plum apple pie. Lemon drops sugar plum jelly-o apple pie dragée tootsie roll cupcake tart. Cake brownie liquorice caramels. Jujubes soufflé tiramisu. Candy canes ice cream pastry marzipan candy jelly fruitcake sweet roll. Chocolate bar gummies tart. Fruitcake carrot cake chocolate carrot cake cookie.<br><br>Sesame snaps wafer gummi bears donut muffin. Sweet roll tart apple pie wafer icing gummi bears danish sesame snaps gummies. Marzipan gummies marshmallow. Cotton candy ice cream lollipop chupa chups bonbon. Candy canes jujubes jelly-o jujubes croissant cheesecake marshmallow. Macaroon dessert lemon drops cupcake powder biscuit macaroon topping.",j={info:A},T=e=>{const t=document.querySelector("#modal_content");t.textContent="";const n=new DocumentFragment,s=document.createElement("div");s.className="modal-header terms";const a=document.createElement("img");a.src=v,a.alt="White Logo";const o=document.createElement("div");o.className="title";const r=document.createElement("img");r.src=E,r.alt="Close Icon",r.className="modal-back";const l=document.createElement("h1");l.textContent="Terms & Conditions",o.append(r,l),s.append(a,o);const m=document.createElement("div");m.className="modal-body";const i=document.createElement("hgroup");i.innerHTML=j.info;const u=document.createElement("div");u.className="modal-accept";const p=document.createElement("label"),y=document.createElement("input");y.className="modal-checkbox",y.type="checkbox",e.checked&&(y.checked=!0);const f=document.createElement("span");p.append(y,f),u.append(p,document.createTextNode("I Agree"));const k=document.createElement("div"),h=document.createElement("button");h.className=`modal-next btn ${e.checked?"":"disabled"}`,h.textContent="Next",e.checked||(h.disabled=!0),k.append(h),m.append(i,u,k),n.append(s,m),t.innerHTML="",t.append(n)},B="/assa_cart/assets/sorting-f831f0ad.svg",M="/assa_cart/assets/plus_pink-158232ac.svg",Q=e=>{e.textContent="",c.init();const t=document.createDocumentFragment(),n=document.createElement("div");n.classList.add("modal-header");const s=document.createElement("img");s.src=v,s.alt="White Logo";const a=document.createElement("div");a.classList.add("title");const o=document.createElement("img");o.classList.add("modal-back"),o.src=E,o.alt="Close Icon";const r=document.createElement("h1");r.textContent="Shopping Cart",a.append(o,r),n.append(s,a);const l=document.createElement("div");l.classList.add("modal-body");const m=document.createElement("div");m.classList.add("cart-header");const i=document.createElement("button");i.id="name_sort",i.classList.add("cart-header-item"),i.textContent="ITEM NAME";const u=document.createElement("img");u.src=B,u.alt="",i.append(u);const p=document.createElement("button");p.id="qty_sort",p.classList.add("cart-header-item"),p.textContent="QTY";const y=document.createElement("img");y.src=B,y.alt="",p.append(y),m.append(i,p);const f=document.createElement("div");f.id="cart";const k=document.createElement("button");k.id="cart_add";const h=document.createElement("img");h.src=M,h.alt="",k.append(h,"Add Item");const C=document.createElement("button");C.id="cart_clear",C.textContent="Clear All",l.append(m,f,k,C),t.append(n,l),e.appendChild(t),c.showCart()},O=e=>{const t={step:0,checked:!1},n=()=>{const a=e.querySelector("#modal_content");if(a){switch(t.step){case 0:T(t);break;case 1:Q(a);break}w(e),N(e,t)}};return{init:()=>{n()},render:n}};document.querySelector("#app").innerHTML=`
  <main id="assa_test">
    <section id="start_modal">
      <img src="${S}" class="logo" alt="Shopping Bag logo" />
      <button id="start_shopping" type="button"><img src="${L}" alt=""/></button>
    </section>
    <article id="modal_content"></article>
  </main>
`;const P=document.querySelector("#assa_test"),F=document.querySelector("#modal_content"),z=document.querySelector("#start_modal"),g=O(P);document.querySelector("#start_shopping").addEventListener("click",()=>{F.style.display="flex",z.style.display="none",g.init()});
